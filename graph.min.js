export function drawGraph(e){let i=document.getElementById("wpm-chart");const g=getComputedStyle(i);i.width=parseInt(g.width),i.height=i.width*(9/16);let v=30,n=40,s=i.height-v,d=i.width-n,t=i.getContext("2d"),c=Math.floor(Math.max(...e.wpmTimeSeries.map(e=>e))/1e3),o=[];for(let t=0;t<c;t++){let n=0;for(let s=0;s<e.wpmTimeSeries.length;s++)e.wpmTimeSeries[s]<=t*1e3&&n++;t==0?o.push(0):o.push(60/(t/n))}let l=Math.max(...o),r=s/l,a=d/o.length,u=o.length>10?10:o.length,b=getComputedStyle(document.documentElement).getPropertyValue("--main-color").trim(),h=getComputedStyle(document.documentElement).getPropertyValue("--correct-font-color").trim();t.strokeStyle=h,t.beginPath(),t.moveTo(n,0),t.lineTo(n,s),t.lineTo(d+n,s),t.stroke(),t.fillStyle=h,t.font="12px Arial";let m=5;for(let e=0;e<=m;e++){let i=l/m*e,o=s-i*r;t.fillText(Math.round(i),5,o),t.beginPath(),t.moveTo(n-5,o),t.lineTo(n,o),t.stroke()}for(let e=1;e<u;e++){let i=c/u*e,o=n+i*a;t.fillText(Math.round(i),o-10,s+20),t.beginPath(),t.moveTo(o,s),t.lineTo(o,s+5),t.stroke()}let f=n,p=s;for(let e=1;e<o.length;e++){let i=n+e*a,c=s-o[e]*r;t.beginPath(),t.moveTo(f,p),t.lineTo(i,c),t.strokeStyle=b,t.stroke(),f=i,p=c}for(let r=0;r<e.mistakes.length;r++){let c=e.mistakes[r],o=n+c/1e3*a,i=s*.75;t.fillStyle="red",t.strokeStyle="red",t.beginPath(),t.moveTo(o-3,i-3),t.lineTo(o+3,i+3),t.moveTo(o-3,i+3),t.lineTo(o+3,i-3),t.strokeWidth=5,t.stroke()}}